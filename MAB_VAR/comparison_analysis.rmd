```{r}
library(dplyr)
library(ggplot2)
library(tidyr)

setwd("G:\\My Drive\\Research\\Contextual Bandits\\code\\bandits\\peeking")
df <- read.csv("analysis_overall.csv") %>%  select(-starts_with("peek"))

df_m <- df %>% select(time, ab_m, ucb_m, mix_m) %>% gather("type", "mean", 2:4) 

df_v <- df %>% select(time, ab_v, ucb_v, mix_v) %>% gather("type", "variance", 2:4)

df_r <- df %>% select(time, ab_r, ucb_r, mix_r) %>% gather("type", "rse", 2:4)

df_s <- df %>% select(time, ab_s, ucb_s, mix_s) %>% gather("type", "sum", 2:4)

ggplot(df_m, aes(time, mean)) + geom_line(aes(colour=type))

ggplot(df_s, aes(time, sum)) + geom_line(aes(colour=type))


df2 <- read.csv("analysis_rontrol.csv") 

df2_m <- df2 %>% select(time, ab_m, ucb_m, mix_m) %>% gather("type", "mean", 2:4) 


df2_v <- df2 %>% select(time, ab_v, ucb_v, mix_v) %>% gather("type", "variance", 2:4)

df2_r <- df2 %>% select(time, ab_r, ucb_r, mix_r) %>% gather("type", "rse", 2:4)



df2_s <- df2 %>% select(time, ab_s, ucb_s, mix_s) %>% gather("type", "sum", 2:4)


ggplot(df2_v, aes(time, variance)) + geom_line(aes(colour=type))

ggplot(df2_r, aes(time, rse)) + geom_line(aes(colour=type))



df3 <- read.csv("analysis_trt.csv") 

df3_m <- df3 %>% select(time, ab_m, ucb_m, mix_m) %>% gather("type", "mean", 2:4) 
df3_r <- df3 %>% select(time, ab_r, ucb_r, mix_r) %>% gather("type", "rse", 2:4)


df3_v <- df3 %>% select(time, ab_v, ucb_v, mix_v) %>% gather("type", "variance", 2:4)

ggplot(df3_v, aes(time, variance)) + geom_line(aes(colour=type))

ggplot(df3_r, aes(time, rse)) + geom_line(aes(colour=type))


ggplot() + geom_line(data = df2_v, aes(time, variance, colour=type)) + geom_line(data = df3_v, aes(time, variance, colour=type))

ggplot() + geom_line(data = df2_r, aes(time, rse, colour=type)) + geom_line(data = df3_r, aes(time, rse, colour=type))


```

